# Vizualizd Environment Configuration
# Copy this file to .env.local for local development
# See docs/ENVIRONMENT_VARIABLES.md for detailed documentation

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL for connection
# Local SQLite (development): sqlite:///./treemap.db
# Railway PostgreSQL (production): postgresql://user:pass@host:port/dbname
DATABASE_URL=sqlite:///./treemap.db

# Public database URL (optional)
# For local development connecting to Railway database
# Use this to override DATABASE_URL when connecting remotely
DATABASE_PUBLIC_URL=

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application environment: development | production | test
ENVIRONMENT=development

# JWT secret key for token signing (CHANGE IN PRODUCTION!)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=change-me-in-production

# JWT algorithm
JWT_ALGORITHM=HS256

# Access token expiration in minutes (default: 10080 = 7 days)
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# =============================================================================
# MAGIC LINK AUTHENTICATION
# =============================================================================

# Magic link token expiration in minutes
MAGIC_LINK_TOKEN_EXPIRE_MINUTES=60

# Rate limit for magic link requests in seconds (prevent spam)
MAGIC_LINK_RATE_LIMIT_SECONDS=120

# Frontend base URL (where users access the app)
# Local: http://localhost:8000
# Production: https://your-app.up.railway.app
FRONTEND_BASE_URL=http://localhost:8000

# Path to redirect users after clicking magic link
MAGIC_LINK_REDIRECT_PATH=/magic-login

# =============================================================================
# EMAIL SERVICE (RESEND)
# =============================================================================

# Resend API key (get from https://resend.com)
RESEND_API_KEY=

# Email address to send from (must be verified domain in Resend)
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Email address for replies (optional)
RESEND_REPLY_TO_EMAIL=support@yourdomain.com

# =============================================================================
# OPENAI INTEGRATION
# =============================================================================

# OpenAI API key for generating dimension summaries
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# =============================================================================
# OAUTH PROVIDERS (OPTIONAL)
# =============================================================================

# Google OAuth credentials
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=

# Meta/Facebook Ads OAuth credentials
# Get from: https://developers.facebook.com/apps/
# Required permissions: ads_management, ads_read, business_management
META_APP_ID=
META_APP_SECRET=
# Meta OAuth redirect URI - must match what's configured in Meta Developer Console
# Local: http://localhost:8000/api/meta/oauth/callback
# Production: https://vizualizd.marketably.ai/api/meta/oauth/callback
# Note: Add BOTH URLs to your Meta App's "Valid OAuth Redirect URIs" for dev/prod support
META_REDIRECT_URI=http://localhost:8000/api/meta/oauth/callback
#
# Also configure in Meta Developer Console (Settings > Basic):
# - Deauthorize Callback URL: https://vizualizd.marketably.ai/api/meta/deauthorize
# - Data Deletion Request URL: https://vizualizd.marketably.ai/api/meta/data-deletion

# =============================================================================
# FILE STORAGE (VERCEL BLOB)
# =============================================================================

# Vercel Blob read-write token for image uploads
# Get from: Vercel Dashboard → Storage → Blob Store → Tokens
# Required for: ad image uploads, insight media uploads
BLOB_READ_WRITE_TOKEN=

# =============================================================================
# CORS CONFIGURATION (OPTIONAL)
# =============================================================================

# Additional CORS origins (comma-separated or JSON array)
# Examples:
#   - Comma-separated: http://localhost:3000,https://app.example.com
#   - JSON array: ["http://localhost:3000","https://app.example.com"]
ADDITIONAL_CORS_ORIGINS=

# =============================================================================
# NOTES
# =============================================================================

# - Environment variables are loaded in this priority:
#   1. .env.local (git-ignored, highest priority)
#   2. System environment variables
#   3. .env file (if present)
#
# - For Railway deployment:
#   - Set variables in Railway dashboard
#   - DATABASE_URL is automatically provided by Railway
#   - Set FRONTEND_BASE_URL to your Railway app URL
#
# - Security:
#   - Never commit .env.local or .env with real secrets
#   - Use strong, random JWT_SECRET_KEY in production
#   - Keep API keys secure and rotate regularly

