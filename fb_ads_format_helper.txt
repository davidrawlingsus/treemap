‚úÖ FACEBOOK AD JSON FORMAT (MANDATORY - CRITICAL REQUIREMENTS)

üö® **ABSOLUTE REQUIREMENT #1: EVERY JSON BLOCK MUST BE WRAPPED IN ```json ... ```**

**YOUR AD WILL NOT RENDER AS A FACEBOOK MOCK IF IT'S MISSING THE ```json WRAPPER!**

‚ùå WRONG - This will appear as raw text (NOT ACCEPTABLE):
{
  "id": "fb-ad-001",
  "primary_text": "Example ad copy"
}

‚úÖ CORRECT - This will render as a Facebook ad mock (REQUIRED):
```json
{
  "id": "fb-ad-001",
  "primary_text": "Example ad copy",
  "headline": "Example Headline",
  "description": "Example description",
  "call_to_action": "LEARN_MORE",
  "destination_url": "https://www.example.com",
  "media": {
    "type": "image",
    "image_hash": null
  },
  "testType": "Story",
  "origin": "VoC / Pain Point / Specific Theme"
}
```

---

üö® **ABSOLUTE REQUIREMENT #2: VOC EVIDENCE MUST COME BEFORE EACH AD JSON**

For each ad, you MUST output in this exact order:
1. **VoC Evidence section** (as markdown bullet list - renders immediately)
2. **JSON ad block** (renders as Facebook ad mock when complete)

‚ùå WRONG - JSON without preceding VoC Evidence:
```json
{
  "id": "fb-ad-001",
  ...
}
```

‚úÖ CORRECT - VoC Evidence as markdown, THEN JSON:

**VoC Evidence:**
- "Customer quote 1"
- "Customer quote 2"
- "Customer quote 3"

```json
{
  "id": "fb-ad-001",
  ...
}
```

---

**CRITICAL: Output each ad as a SEPARATE JSON block.** This enables incremental rendering during streaming.

**Optional Content Section (if applicable):**
If you have introductory content or strategic context for a creative lane, output it as plain text BEFORE the VoC Evidence + ad blocks (do NOT wrap this in JSON).

---

**Required Output Structure for Each Ad:**

### Step 1: Output VoC Evidence as Markdown (BEFORE the JSON)

**VoC Evidence:**
- "Verbatim customer quote 1"
- "Verbatim customer quote 2"
- "Verbatim customer quote 3"

### Step 2: Output the Ad JSON Block (AFTER VoC evidence)

Each ad MUST be in its own separate ```json block. Output ads one at a time as you generate them (don't batch them).

**Required JSON Structure:**
```json
{
  "id": "unique-ad-id-001",
  "primary_text": "The main ad copy. Write in short, punchy sentences. Use \\n for line breaks. Make it conversational. 3rd-5th grade reading level.",
  "headline": "Short, benefit-driven headline (‚â§40 characters ideal)",
  "description": "Supporting description that reinforces the value prop (‚â§125 characters ideal)",
  "call_to_action": "LEARN_MORE",
  "destination_url": "https://www.example.com/landing-page",
  "media": {
    "type": "image",
    "image_hash": null
  },
  "testType": "Story or Surprise or Curiosity or Guidance or Instructional or Hyperbole or Newness or Ranking",
  "origin": "{Source Type} / {Category} / {Theme}"
}
```

---

**Complete Example with Proper Formatting:**

**VoC Evidence:**
- "I thought it was loads of paperwork, hassle and expense"
- "I always wanted one but kept putting it off"
- "I thought it would take weeks"
- "I've been kicking myself for waiting so long"
- "Then I saw it was ¬£89 and just went for it"

```json
{
  "id": "story-private-plate-001",
  "primary_text": "I'd wanted a private plate for 8 years.\\n\\nEvery time I saw one on the road, I'd think \\"one day.\\"\\n\\nBut I thought it was loads of paperwork. Hassle. Expense.\\n\\nThen last month I finally looked into it.\\n\\n¬£89. 48 hours. Zero paperwork on my end.\\n\\nAbsolute Reg literally does everything.\\nYou pick your plate. They handle the DVLA.\\nIt's on your car before the weekend.\\n\\nI've been kicking myself for waiting so long.\\n\\nIf you've been putting it off like I did... just do it.",
  "headline": "Private Plates From ¬£89",
  "description": "Pick your plate. We handle the DVLA. Done in 48hrs.",
  "call_to_action": "SHOP_NOW",
  "destination_url": "https://www.absolutereg.co.uk/shop",
  "media": {
    "type": "image",
    "image_hash": null
  },
  "testType": "Story",
  "origin": "VoC / Procrastination + Process Fear / Conversion Barriers"
}
```

---

**MANDATORY FORMATTING RULES:**

1. **VoC Evidence Format (CRITICAL)**
   - ‚úÖ Output VoC evidence as markdown bullet list BEFORE each JSON block
   - ‚úÖ Use format: `**VoC Evidence:**` followed by bullet points
   - ‚úÖ Each quote on its own line with `- "quote"`
   - ‚úÖ Include 3-6 verbatim customer quotes per ad
   - ‚ùå NEVER put VoC evidence inside the JSON

2. **JSON Wrapper (CRITICAL)**
   - ‚úÖ MUST start with: ```json (triple backticks + "json")
   - ‚úÖ MUST end with: ``` (triple backticks)
   - ‚ùå NEVER output bare JSON without the wrapper

3. **Quotes (CRITICAL)**
   - ‚úÖ USE ONLY straight quotes: " and '
   - ‚ùå NEVER use curly/smart quotes: " " ' '
   - ‚úÖ Escape quotes inside strings: \\"text\\"

4. **Line Breaks in primary_text Field**
   - ‚úÖ USE: \\n (escaped backslash-n) for line breaks
   - ‚ùå NEVER use: literal newlines, <br>, \\r\\n, or other formats
   - ‚úÖ Example: "Line 1\\nLine 2\\nLine 3"

5. **Text Formatting Inside JSON Strings**
   - ‚úÖ USE plain text only in `primary_text`, `headline`, `description`
   - ‚ùå NEVER use markdown: **bold**, *italic*
   - ‚ùå NEVER use HTML: <strong>, <em>, <br>, <p>
   - ‚úÖ Ad copy should be raw, natural language

6. **JSON Syntax**
   - ‚úÖ All property names must be quoted strings: "id", "primary_text", etc.
   - ‚úÖ All string values must use double quotes: "value"
   - ‚úÖ Commas between properties (except last one)
   - ‚ùå NO trailing commas after the last property
   - ‚ùå NO comments (// or /* */)
   - ‚úÖ Every { must have a matching }

7. **Required Fields**
   - ‚úÖ `id` - unique identifier for the ad
   - ‚úÖ `primary_text` - main ad copy (conversational, 3rd-5th grade level)
   - ‚úÖ `headline` - benefit-driven, ‚â§40 characters ideal
   - ‚úÖ `description` - reinforces value prop, ‚â§125 characters ideal
   - ‚úÖ `call_to_action` - must be a valid CTA value (see list below)
   - ‚úÖ `destination_url` - complete URL with https://
   - ‚úÖ `media` - object with `type: "image"` and `image_hash: null`
   - ‚úÖ `testType` - one of the 8 creative lanes
   - ‚úÖ `origin` - format: Source / Category / Theme

8. **Call to Action Values (MUST USE ONE OF THESE)**
   - LEARN_MORE
   - DOWNLOAD
   - SHOP_NOW
   - SIGN_UP
   - GET_QUOTE
   - APPLY_NOW
   - BOOK_NOW
   - CONTACT_US
   - GET_OFFER
   - SUBSCRIBE
   - REQUEST_TIME

---

‚úÖ **PRE-RESPONSE VALIDATION CHECKLIST (MANDATORY)**

Before you return ANY response containing JSON, you MUST verify ALL of the following:

**STEP 0: VoC Evidence Check (CRITICAL)**
- [ ] Is there a `**VoC Evidence:**` section BEFORE each JSON block?
- [ ] Does each VoC section have 3-6 verbatim customer quotes?
- [ ] Are quotes formatted as bullet points with `- "quote"`?
- [ ] Is VoC evidence NOT inside the JSON (it should be markdown above)?

**STEP 1: JSON Wrapper Check**
- [ ] Every JSON object starts with ```json (not just ```, and not missing entirely)
- [ ] Every JSON block ends with ``` (triple backticks)
- [ ] Count the ``` markers - you need an even number (opening + closing pairs)

**STEP 2: Quote Character Check**
- [ ] Search for curly quotes " " ' ' - if found, REPLACE with straight quotes
- [ ] All JSON property names use straight double quotes: "id"
- [ ] All JSON string values use straight double quotes: "value"
- [ ] Quotes inside strings are escaped: \\"text\\"

**STEP 3: Formatting Check**
- [ ] NO markdown in ad copy fields (no **bold** or *italic*)
- [ ] NO HTML tags anywhere (<strong>, <em>, <br>, <p>, <div>)
- [ ] Ad copy is plain, natural language

**STEP 4: Line Break Check**
- [ ] All line breaks in "primary_text" use \\n (backslash-n)
- [ ] NO literal line breaks inside JSON strings
- [ ] NO <br> tags anywhere

**STEP 5: JSON Syntax Check**
- [ ] Every { has a matching }
- [ ] Every [ has a matching ]
- [ ] No trailing commas after last property/item
- [ ] All property names are quoted
- [ ] Commas between properties (except last one)
- [ ] No comments (// or /* */)

**STEP 6: Required Fields Check**
- [ ] `id` is present and unique
- [ ] `primary_text` is conversational and emotionally charged
- [ ] `headline` is ‚â§40 characters (ideal)
- [ ] `description` is ‚â§125 characters (ideal)
- [ ] `call_to_action` uses a valid CTA value from the list
- [ ] `destination_url` is a complete URL with https://
- [ ] `media.type` is set to "image"
- [ ] `media.image_hash` is set to null
- [ ] `testType` matches one of the 8 creative lanes
- [ ] `origin` follows the format: Source / Category / Theme

**STEP 7: Content Quality Check**
- [ ] `primary_text` reads at 3rd-5th grade level
- [ ] Copy feels conversational and friend-to-friend
- [ ] VoC language is woven into the copy naturally

**STEP 8: Final Format Verification**
- [ ] Can you copy the entire JSON block (including ```json and ```) and validate it?
- [ ] Does JSON.parse() work on just the content between ```json and ```?

---

**üö® COMMON MISTAKES THAT BREAK RENDERING:**

1. **MISSING VoC EVIDENCE BEFORE JSON**
   ‚ùå Going straight to JSON without VoC evidence
   ‚úÖ Always output `**VoC Evidence:**` with bullet quotes BEFORE each JSON block

2. **MISSING ```json WRAPPER** (MOST COMMON ERROR)
   ‚ùå { "id": "test" }
   ‚úÖ ```json\n{ "id": "test" }\n```

3. **Using Markdown/HTML in Ad Copy**
   ‚ùå "primary_text": "This is **bold** text"
   ‚ùå "primary_text": "Text <strong>bold</strong> more text"
   ‚úÖ "primary_text": "This is important text"

4. **Curly/Smart Quotes**
   ‚ùå "primary_text": "I thought it was "too hard""
   ‚úÖ "primary_text": "I thought it was \\"too hard\\""

5. **Wrong Line Break Format**
   ‚ùå "primary_text": "Line 1\nLine 2"  (literal newline)
   ‚ùå "primary_text": "Line 1<br>Line 2"  (HTML tag)
   ‚úÖ "primary_text": "Line 1\\nLine 2"  (escaped)

6. **Trailing Comma**
   ‚ùå { "id": "test", "headline": "Test", }
   ‚úÖ { "id": "test", "headline": "Test" }

7. **Invalid CTA Value**
   ‚ùå "call_to_action": "Buy Now"
   ‚úÖ "call_to_action": "SHOP_NOW"

8. **Missing Required Fields**
   ‚ùå Missing `destination_url` or `media` object
   ‚úÖ All required fields present and properly formatted

9. **Wrong Media Object Format**
   ‚ùå "media": { "type": "image", "image_hash": "some-value" }
   ‚úÖ "media": { "type": "image", "image_hash": null }

---

**Quick Reference - Allowed vs. Forbidden:**

‚úÖ **ALLOWED:**
- VoC Evidence as markdown BEFORE each JSON block
- ```json wrapper around every JSON block
- Straight quotes: "text", 'text'
- Plain text in ad copy fields (no formatting)
- Escaped line breaks: \\n
- Escaped quotes: \\"text\\"
- Valid CTA values from the defined list
- `media.image_hash` set to null

‚ùå **FORBIDDEN:**
- JSON block without preceding VoC Evidence section
- Bare JSON without ```json wrapper
- Markdown in ad copy: **bold**, *italic*
- HTML tags: <strong>, <em>, <br>, <p>, <div>
- Curly quotes: " " ' '
- Literal newlines inside JSON strings
- Trailing commas
- Comments in JSON
- Invalid CTA values
- Non-null value for media.image_hash

---

**FINAL REMINDER:**

**Output order for each ad:**
1. `**VoC Evidence:**` with 3-6 bullet-pointed customer quotes (renders immediately)
2. Then the ```json block with the ad data (renders as Facebook mock)

If your JSON is missing the ```json wrapper, it will appear as a plain text block instead of rendering as a Facebook ad mock. ALWAYS wrap every JSON object in ```json ... ```.

Your output should feel ready to copy-paste into Facebook Ads Manager. Every field should be production-ready, emotionally charged, and grounded in VoC evidence.
